2) Инициализация репозитория и Git-процесса
Действия: создать репозиторий; завести main/develop; шаблоны PR; защита веток; правила squash merge; CODEOWNERS.
Исполнитель: Artem (setup), ревью: Roma
Компонент: infra
Зависимости: 1
Ветка: infra/tw-2-init-repo
3) Базовый CI (линты/тесты/сборка)
Действия: пайплайн для backend/frontend; статпроверки; сборка; обязательные статус-чеки для PR; кэширование зависимостей.
Исполнитель: Artem, ревью: Roma
Компонент: infra
Зависимости: 2
Ветка: infra/tw-3-ci-base
4) БД: схема пользователей и каналов
Действия: выбрать СУБД (Postgres); миграции users, channels; локальный docker-compose; подключение из бекенда; сид начальных данных.
Исполнитель: Artem
Компонент: backend/infra
Зависимости: 2
Ветка: feature/tw-4-db-users-channels
5) Auth API (регистрация/логин, JWT)
Действия: эндпоинты POST /auth/register, POST /auth/login, GET /me; хеш пароля; JWT- middleware; unit-тесты; OpenAPI черновик.
Исполнитель: Artem; тест-кейсы: Roma
Компонент: backend/auth
Зависимости: 4
Ветка: feature/tw-5-auth-api
6) Auth UI (формы входа/регистрации)
Действия: формы UI; связь с API; хранение токена; редиректы; базовая валидация; e2e-smoke на вход.
Исполнитель: Artem; ревью/QA: Roma
Компонент: frontend/auth
Зависимости: 5
Ветка: feature/tw-6-auth-ui
7) Channels API (минимум)
Действия: модель channel (ownerId, slug, title, isLive, streamKey); GET /channels/:slug, POST /channels (владельцу), PATCH /channels/:id.
Исполнитель: Artem
Компонент: backend/channels
Зависимости: 4, 5
Ветка: feature/tw-7-channels-api
8) Страница канала (черновик)
Действия: каркас страницы; вывод title/описания; состояние «оффлайн»; загрузка данных канала; базовая верстка.
Исполнитель: Artem; UI-правки: Roma
Компонент: frontend/channel
Зависимости: 7
Ветка: feature/tw-8-channel-page
9) Streaming RTMP→HLS (инфраструктура)
Действия: развернуть SRS/Nginx-RTMP; настроить RTMP ingest и HLS-выдачу; директории сегментов; healthcheck; конфиг для dev.
Исполнитель: Artem
Компонент: streaming/infra
Зависимости: 2
Ветка: infra/tw-9-streaming-rtmp-hls
10) HLS-плеер на фронте
Действия: интеграция hls.js; обработка ошибок; автозапуск (muted); оффлайн-заглушка; привязка к каналу.
Исполнитель: Artem; QA: Roma
Компонент: frontend/player
Зависимости: 8, 9
Ветка: feature/tw-10-hls-player
11) Smoke-тесты Спринта 1
Действия: чек-лист smoke (регистрация/логин, страница канала, воспроизведение HLS); запуск; баг-репорты.
Исполнитель: Roma; фиксы: Artem
Компонент: qa
Зависимости: 5, 8, 10
Ветка: —
12) Релиз v0.1-alpha
Действия: релиз-ноты; тег v0.1-alpha; деплой на dev; демо; ретроспектива спринта.
Исполнитель: Roma (релиз/демо), Artem (деплой)
Компонент: release
Зависимости: 11
Ветка: release/v0.1-alpha
13) WS-сервер чата (база)
Действия: выбор транспорта (WS/Socket.IO); комнаты по channelId; события join, message; простая персистентность (опц.); rate-limit.
Исполнитель: Artem; тест-кейсы: Roma
Компонент: backend/chat
Зависимости: 4
Ветка: feature/tw-13-chat-ws-server
14) UI чата
Действия: панель чата на странице канала; список сообщений; поле ввода; автоскролл; отображение автора/времени.
Исполнитель: Artem; QA: Roma
Компонент: frontend/chat
Зависимости: 13, 8
Ветка: feature/tw-14-chat-ui
15) Ключ стрима и «Go Live»
Действия: генерация/ротация streamKey; проверка publish по ключу (RTMP auth hook); страница «Начать стрим» (копирование ключа).
Исполнитель: Artem
Компонент: backend/channels + frontend/channel
Зависимости: 7, 9
Ветка: feature/tw-15-stream-key-go-live
16) Модерация чата (минимум)
Действия: фильтр «плохих слов»; бан пользователя по каналу; эндпоинты модерации; UI действий для владельца.
Исполнитель: Artem; тест-кейсы/правила: Roma
Компонент: chat/moderation
Зависимости: 13, 14
Ветка: feature/tw-16-chat-moderation
17) VOD (минимум)
Действия: сохранение HLS-плейлистов как VOD; метаданные записи; API списка VOD; UI списка прошлых стримов.
Исполнитель: Artem; QA: Roma
Компонент: streaming/vod + frontend/channel
Зависимости: 9, 7
Ветка: feature/tw-17-vod-min
18) Наблюдаемость (логи/метрики)
Действия: структурные логи; базовые метрики (зрители, сообщения/мин); /health; простой дашборд.
Исполнитель: Artem; чек-лист: Roma
Компонент: infra/observability
Зависимости: 3, 9, 13
Ветка: infra/tw-18-observability
19) Безопасность HLS (минимум)
Действия: токенизированный доступ к плейлисту (подписанные URL или токен-валидация); CORS; rate-limit.
Исполнитель: Artem
Компонент: streaming/security
Зависимости: 10, 15
Ветка: feature/tw-19-hls-security
20) Регресс и стабилизация Спринта 2
Действия: регресс флоу (Auth, Go Live, Watch, Chat, VOD); приоритезация багов; фиксы; ретест.
Исполнитель: Roma (QA), Artem (фиксы)
Компонент: qa
Зависимости: 14, 16, 17, 18, 19
Ветка: —
21) Релиз v1.0-mvp
Действия: релиз-ноты; тег v1.0-mvp; деплой; демо; ретроспектива.
Исполнитель: Roma (релиз/демо), Artem (деплой)
Компонент: release
Зависимости: 20
Ветка: release/v1.0-mvp
22) Документация API (OpenAPI) и README
Действия: спецификация OpenAPI; генерация клиентских типов (опц.); README по локальному запуску.
Исполнитель: Artem; ревью: Roma
Компонент: docs/backend
Зависимости: 5, 7, 13, 17
Ветка: docs/tw-22-openapi-readme
23) Документация по стримингу (для стримеров)
Действия: гайд по OBS; RTMP URL/ключ; советы по битрейту/кодеку; типичные ошибки.
Исполнитель: Roma
Компонент: docs/streaming
Зависимости: 9, 15
Ветка: docs/tw-23-streaming-guide
24) Окружения и секреты (Dev)
Действия: переменные окружения; секреты для CI; шаблон .env.example; конфиг dev-стенда.
Исполнитель: Artem; проверка: Roma
Компонент: infra
Зависимости: 2, 3
Ветка: infra/tw-24-env-secrets
25) Политики доступа и CORS
Действия: CORS правила; базовые роли (user, owner); защита админ-эндпоинтов; e2e-проверка.
Исполнитель: Artem
Компонент: backend/security
Зависимости: 5, 7
Ветка: feature/tw-25-security-cors