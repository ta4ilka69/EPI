
## IFPUG и COCOMO II


### Границы и допущения

Учитываем только пользовательски распознаваемые процессы и персистентные данные.

Настройки зрителя (скорость/качество проигрывателя) считаю неперсистентными — не учитываю как EI/ILF.
   
Сохранение трансляции происходит по действию «Stop/End Stream» (учтено как EI).

### ILF/EIF

Пользователи/Профиль — ILF, RET≈2, DET≈25 -> Avg. = 10

Трансляции + настройки трансляции — ILF, RET≈2, DET≈25 -> Avg. = 10

Видео — ILF, RET=1, DET≈15 -> Low = 7

Клип — ILF, RET=1, DET≈10 -> Low = 7

Подписки (follow) — ILF, RET=1, DET≈4 -> Low = 7

Сообщения чата — ILF, RET=1, DET≈6 -> Low = 7

Категории/Игры — ILF, RET=1, DET≈5 -> Low = 7

Жанры — ILF, RET=1, DET≈3 -> Low = 7

Аккаунты внешней авторизации — ILF, RET=1, DET≈7 -> Low = 7

Итого ILF = 69 UFP


EIF нешний профиль IdP — 1×Low = 5 UFP


### Транзакции (EI/EO/EQ)

Регистрация (EI, FTR=1, DET≈5) -> Low = 3

Логин (EI, FTR=1, DET≈3) -> Low = 3

OAuth логин/регистрация (EI, FTR=2, DET≈5) -> Avg. = 4

Обновить/задать настройки трансляции (EI, FTR=3, DET≈8) -> Высок. = 6

Войти на страницу трансляции/получить метаданные (EQ, FTR=3, DET≈10) -> Avg. = 4

Читать чат (EQ, FTR=2, DET≈6) -> Avg. = 4

Отправить сообщение в чат (EI, FTR=3, DET≈2) -> Avg. = 4

Создать клип (EI, FTR=3, DET≈4) -> Avg. = 4

Лента рекомендаций/живых каналов (EQ, FTR=2, DET≈8) -> Avg. = 4

Список «Подписки/Following» (EQ, FTR=3, DET≈6) -> Avg. = 4

Подписаться (EI, FTR=2, DET≈2) -> Low = 3

Отписаться (EI, FTR=2, DET≈2) -> Low = 3

Категории (EQ, FTR=1, DET≈6) -> Low = 3

Просмотр по жанру (EQ, FTR=2, DET≈6) -> Avg. = 4

Список клипов пользователя (EQ, FTR=2, DET≈6) -> Avg. = 4

Поделиться клипом (EO, FTR=2, DET≈3) -> Low = 4

Старт трансляции (EI, FTR=3, DET≈6–10) -> Высок. = 6

Завершить и сохранить трансляцию (EI, FTR=2, DET≈5) -> Avg. = 4

Показ количества подписчиков (EO, FTR=2, DET≈2) -> Low = 4

Итого:
EI = 43 UFP
EO = 8 UFP
EQ = 31 UFP


### Подсчет UFP

ILF: 69
EIF: 5
EI: 43
EO: 8
EQ: 31
Итого UFP = 69 + 43 + 8 + 31 + 5 = 156

### Определение значения фактора выравнивания - VAF

Оценки: 

Обмен данными = 4 - Продукт обменивается данными по нескольким протоколам (WebSocket, HTTP)

Распределенная обработка данных = 3 - Обработка данных распределена между клиентом и сервером

Производительность = 5 - Критичны задержки стриминга и чата, требуются специальные решения

Ограничения по аппаратным ресурсам = 4 - Есть требования к процессору для стриминга

Транзакционная нагрузка = 4 - Высокая нагрузка при большом количестве зрителей

Интенсивность взаимодействия с пользователем = 4 - Большинство операций интерактивные

Эргономика = 4 - Важна эффективность работы стримера и зрителей

Интенсивность изменения данных = 3 - Умеренная интенсивность обновления контента

Сложность обработки = 2 - Средняя сложность бизнес-логики

Повторное использование = 1 - Минимальное повторное использование компонентов

Удобство инсталляции = 3 - Автоматическое обновление клиентской части

Удобство администрирования = 3 - Базовый мониторинг и восстановление

Портируемость = 3 - Веб-приложение с поддержкой основных браузеров

Гибкость = 4 - Настраиваемые параметры трансляции и профиля

DI = 47
VAF = 0.65 + 0.01×DI = 0.65 + 0.47 = 1.12

### Расчет количества вьровненных функциональных точек  - AFP

AFP ≈ 156 × 1.12 ≈ 175



## COCOMO II

### Размер продукта - SIZE

Так как в прошлом методе мы посчитали количество функциональных точек (175), распределим их между компонентами системы:

- Бэкенд (C++) - 105 FP (60%) - основная бизнес-логика, обработка стримов
- База данных (SQL) - 35 FP (20%) - хранение данных пользователей, стримов, подписок
- Фронтенд (JavaScript) - 35 FP (20%) - клиентский интерфейс

По [таблице](https://www.qsm.com/resources/function-point-languages-table) определим количество строк кода:

- C++: 105 FP * 50 = 5250 LOC
- SQL: 35 FP * 21 = 735 LOC  
- JavaScript: 35 FP * 47 = 1645 LOC

Итого: 7630 SLOC (7.63 KSLOC)

### Факторы масштаба - SF

PREC (наличие опыт аналогичных разработок) = 3.72 (Nominal)

FLEX (гибкость процесса разработки) = 2.03 (High)

RESL (архитектура и разрешение рисков) = 7.07 (Very Low)

TEAM (сработанность команды) = 1.1 (Very High)

PMAT (зрелость процессов) = 6.24 (Low)

### Множители трудоемкости - EM

PERS (квалификация персонала) = 1.62 (Low)

RCPX (сложность и надежность продукта) = 1.33 (High)

RUSE (разработка для повторного использования) = 0.95 (Low)

PDIF (сложность платформы разработки) = 1.29 (High)

PREX (опыт персонала) = 1.33 (Low)

FCIL (оборудование) = 1.00 (Nominal)

SCED (сжатие расписания) = 1.00 (Nominal)

### Оценка трудоемкости

Имеем формулу:

$$PM = A * SIZE^E * \displaystyle\prod_{i=1}^{n}EM_i$$

Где

$$E = B + 0.01*\sum_{j=1}^5SF_j$$

$$A = 2.94; \ B=0.91$$

Подставляем и получаем результат:

$$E = 0.91 + 0.01*(3.72+2.03+7.07+1.1+6.24) = 1.1116$$

$$PM = 2.94 * 7.63^{1.1116} * (1.62+1.33+0.95+1.29+1.33+1+1) = \\ 2.94 * 7.63^{1.1116} * 8.52 \approx 240 \ человек*месяц$$